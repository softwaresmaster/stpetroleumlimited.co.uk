<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Contact — ST Petroleum Limited</title>
        <meta
            name="description"
            content="Contact ST Petroleum Limited - enquiries, business, partnerships"
        />
        <link rel="stylesheet" href="style.css" />
        <link rel="icon" href="images/favicon.ico" type="image/x-icon" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        />
    </head>
    <body>
        <!-- Topbar -->
        <div class="topbar">
            <span class="topbar-socials" aria-hidden="false">
                <a class="g-2" href="mailto:info@stpetroleumltd.co.uk">
                    <i class="fa-solid fa-envelope"></i>
                    info@stpetroleumltd.co.uk
                </a>
                <a class="g-2" href="tel:+447722139777">
                    <i class="fa-solid fa-phone-volume"></i>
                    +44 07722139777
                </a>
                <a
                    class="g-2"
                    href="https://www.facebook.com/"
                    target="_blank"
                    rel="noopener noreferrer"
                    aria-label="Facebook"
                >
                    <i class="fab fa-facebook-f"></i>
                </a>
            </span>
        </div>

        <!-- Navbar -->
        <div class="navbar">
            <div>
                <img
                    src="images/logo.svg"
                    alt="Gulf Logo"
                    style="height: 40px; vertical-align: middle; margin-right: 10px"
                />
                <span
                    style="
                        font-size: 24px;
                        font-weight: bold;
                        color: #20274c;
                        vertical-align: middle;
                    "
                >
                    ST Petroleum Limited
                </span>
            </div>
            <div class="navbar-links">
                <a href="index.html">Home</a>
                <a href="about.html">About</a>
                <a href="services.html">Services</a>
                <a href="contact.html">Contact Us</a>
            </div>
        </div>

        <!-- Hero (reuse about hero style) -->
        <div class="hero hero-about">
            <div class="hero-overlay" aria-hidden="true"></div>
            <div class="hero-content">
                <h1>Contact Us</h1>
            </div>
        </div>

        <!-- Contact form -->
        <div class="info" style="max-width: 1000px; margin: 30px auto">
            <div class="masonry">
                <article class="card">
                    <h3>
                        <i class="fa-solid fa-envelope icon"></i>
                        Send us an enquiry
                    </h3>
                    <p>
                        Please use the form below for business enquiries, partnerships or supplier
                        proposals. We aim to respond within 48 hours.
                    </p>

                    <form id="contactForm" class="contact-form" novalidate>
                        <label for="name">Full name *</label>
                        <input
                            id="name"
                            name="name"
                            type="text"
                            required
                            placeholder="Your full name"
                        />

                        <label for="email">Email address *</label>
                        <input
                            id="email"
                            name="email"
                            type="email"
                            required
                            placeholder="you@company.com"
                        />

                        <label for="phone">Phone number</label>
                        <input id="phone" name="phone" type="tel" placeholder="+44 7..." />

                        <label for="subject">Subject *</label>
                        <input
                            id="subject"
                            name="subject"
                            type="text"
                            required
                            placeholder="Short subject"
                        />

                        <label for="message">Message *</label>
                        <textarea
                            id="message"
                            name="message"
                            rows="6"
                            required
                            placeholder="Tell us about your enquiry..."
                        ></textarea>

                        <div class="form-row">
                            <button type="submit" class="btn-primary">Send enquiry</button>
                            <button type="reset" class="btn-secondary">Reset</button>
                        </div>

                        <div id="formStatus" aria-live="polite" style="margin-top: 12px"></div>
                    </form>
                </article>

                <article class="card card-map">
                    <h3>
                        <i class="fa-solid fa-location-dot icon"></i>
                        Visit or call
                    </h3>
                    <p>Wainhouse Corner Garage, Wainhouse Corner, Bude, Cornwall, EX23 0AZ</p>
                    <p>
                        <strong>Phone:</strong>
                        <a href="tel:+447722139777" class="text-black">+44 07722139777</a>
                    </p>
                    <p>
                        <strong>Email:</strong>
                        <a href="mailto:info@stpetroleumltd.co.uk" class="text-black">
                            info@stpetroleumltd.co.uk
                        </a>
                    </p>

                    <div class="map-wrap">
                        <iframe
                            src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d20203.258516887778!2d-4.5771431!3d50.7309339!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x486c786df1a6421b%3A0xc897ea0d729e72ce!2sGulf!5e0!3m2!1sen!2sin!4v1760192415777!5m2!1sen!2sin"
                            loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade"
                            aria-hidden="false"
                        ></iframe>
                    </div>
                </article>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-column">
                <img src="images/logo.svg" alt="Gulf Logo" class="logo-svg" />
                <h4>Connect</h4>
                <p>Get in touch with our friendly team.</p>
                <p>info@stpetroleumltd.co.uk</p>
                <p>+44 07722139777</p>
            </div>
            <div class="footer-column">
                <h4>Company</h4>
                <p>ST Petroleum Limited</p>
                <p>Trading as: Gulf UK</p>
            </div>
            <div class="footer-column">
                <h4>Inquiry</h4>
                <form>
                    <input type="text" placeholder="Enter your name" />
                    <button type="submit">Submit your inquiry</button>
                </form>
            </div>
        </footer>

        <!-- End Bar -->
        <div class="end-bar">
            © 2025. All rights reserved.
            <a href="privacy.html">Privacy Policy</a>
            |
            <a href="terms.html">Terms & Conditions</a>
        </div>

        <script>
            // Simple client-side form handler.
            // This supports EmailJS if you add your User ID and Template ID below (optional),
            // otherwise it stores submissions in localStorage as a fallback so you can retrieve them.

            (function () {
                const form = document.getElementById("contactForm");
                const status = document.getElementById("formStatus");

                function validate() {
                    const required = ["name", "email", "subject", "message"];
                    for (const id of required) {
                        const el = document.getElementById(id);
                        if (!el || !el.value.trim()) {
                            return id;
                        }
                    }
                    return null;
                }

                async function sendEmailJS(formData) {
                    // If you want to use EmailJS, uncomment and configure the lines below with your details.
                    // EmailJS requires loading their SDK and creating an account + template.
                    /*
          emailjs.init('YOUR_USER_ID');
          const templateParams = Object.fromEntries(formData.entries());
          return emailjs.send('YOUR_SERVICE_ID','YOUR_TEMPLATE_ID', templateParams);
          */
                    throw new Error("EmailJS not configured");
                }

                function saveFallback(formData) {
                    const entries = Object.fromEntries(formData.entries());
                    const list = JSON.parse(localStorage.getItem("contact_submissions") || "[]");
                    list.push({ ...entries, receivedAt: new Date().toISOString() });
                    localStorage.setItem("contact_submissions", JSON.stringify(list));
                }

                form.addEventListener("submit", async function (e) {
                    e.preventDefault();
                    status.textContent = "";

                    const missing = validate();
                    if (missing) {
                        status.textContent = "Please fill the required field: " + missing;
                        status.style.color = "#c0392b";
                        return;
                    }

                    const formData = new FormData(form);

                    try {
                        // try EmailJS first (if configured)
                        await sendEmailJS(formData);
                        status.textContent = "Thank you — your enquiry was sent successfully.";
                        status.style.color = "#28a745";
                        form.reset();
                        return;
                    } catch (err) {
                        // fallback: save to localStorage and show success message
                        saveFallback(formData);
                        status.textContent =
                            "Saved locally (Email not configured). We will review your enquiry.";
                        status.style.color = "#e67e22";
                        form.reset();
                        console.warn("EmailJS not configured or send failed:", err);
                    }
                });
            })();
        </script>
    </body>
</html>
